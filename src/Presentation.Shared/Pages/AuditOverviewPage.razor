@page "/auditoverview"
@using Microsoft.AspNetCore.Http;
@inject IHttpContextAccessor httpContextAccessor

<MudPaper Outlined="true" Square="true" Class="d-flex align-center px-4 py-2">
    <MudText Typo="Typo.h1">@PageHeader</MudText>
    <MudSpacer />

</MudPaper>
<MudContainer MaxWidth="MaxWidth.False">
    <MudPaper Elevation="3" Class="px-4 py-4">
        @if(Audits == null)
        {
            <h3>Loading ...</h3>
        }
        else
        {
            <MudToolBar>
                <MudText Typo="Typo.h2">Audit Logs</MudText>
                <MudSpacer />
            </MudToolBar>
            <MudTable Items="@Audits" Striped="true" Hover="true" FixedHeader="true">
                <HeaderContent>
                    <MudTh Style="text-align:center">Id</MudTh>
                    <MudTh Style="text-align:center">TargetId</MudTh>
                    <MudTh Style="text-align:center">Table</MudTh>
                    <MudTh Style="text-align:center">DateTime</MudTh>
                    <MudTh Style="text-align:center">Change</MudTh>
                    <MudTh Style="text-align:center">User</MudTh>
                    <MudTh Style="text-align:center">Value</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd Style="text-align:center">@context.Id</MudTd>
                    <MudTd Style="text-align:center">@context.TargetId</MudTd>
                    <MudTd Style="text-align:center">@context.Table</MudTd>
                    <MudTd Style="text-align:center">@context.DateTime</MudTd>
                    <MudTd Style="text-align:center">@context.Change</MudTd>
                    <MudTd Style="text-align:center">@context.User</MudTd>
                    <MudTd Style="text-align:center">@context.Value</MudTd>
                </RowTemplate>
            </MudTable>
        }
    </MudPaper>
</MudContainer>